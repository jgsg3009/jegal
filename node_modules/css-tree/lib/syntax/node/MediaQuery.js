<<<<<<< HEAD
=======
var List = require('../../utils/list');
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
var TYPE = require('../../tokenizer').TYPE;

var WHITESPACE = TYPE.WhiteSpace;
var COMMENT = TYPE.Comment;
<<<<<<< HEAD
var IDENT = TYPE.Ident;
=======
var IDENTIFIER = TYPE.Identifier;
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
var LEFTPARENTHESIS = TYPE.LeftParenthesis;

module.exports = {
    name: 'MediaQuery',
    structure: {
<<<<<<< HEAD
        children: [[
            'Identifier',
            'MediaFeature',
            'WhiteSpace'
        ]]
=======
        children: [['Identifier', 'MediaFeature', 'WhiteSpace']]
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
    },
    parse: function() {
        this.scanner.skipSC();

<<<<<<< HEAD
        var children = this.createList();
=======
        var children = new List();
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
        var child = null;
        var space = null;

        scan:
        while (!this.scanner.eof) {
            switch (this.scanner.tokenType) {
                case COMMENT:
                    this.scanner.next();
                    continue;

                case WHITESPACE:
                    space = this.WhiteSpace();
                    continue;

<<<<<<< HEAD
                case IDENT:
=======
                case IDENTIFIER:
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
                    child = this.Identifier();
                    break;

                case LEFTPARENTHESIS:
                    child = this.MediaFeature();
                    break;

                default:
                    break scan;
            }

            if (space !== null) {
<<<<<<< HEAD
                children.push(space);
                space = null;
            }

            children.push(child);
        }

        if (child === null) {
            this.error('Identifier or parenthesis is expected');
=======
                children.appendData(space);
                space = null;
            }

            children.appendData(child);
        }

        if (child === null) {
            this.scanner.error('Identifier or parenthesis is expected');
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
        }

        return {
            type: 'MediaQuery',
            loc: this.getLocationFromList(children),
            children: children
        };
    },
<<<<<<< HEAD
    generate: function(node) {
        this.children(node);
=======
    generate: function(processChunk, node) {
        this.each(processChunk, node);
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
    }
};
