<<<<<<< HEAD
var List = require('../common/List');
=======
'use strict';

var List = require('./list');
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361

module.exports = function clone(node) {
    var result = {};

    for (var key in node) {
        var value = node[key];

        if (value) {
<<<<<<< HEAD
            if (Array.isArray(value) || value instanceof List) {
                value = value.map(clone);
=======
            if (Array.isArray(value)) {
                value = value.slice(0);
            } else if (value instanceof List) {
                value = new List().fromArray(value.map(clone));
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
            } else if (value.constructor === Object) {
                value = clone(value);
            }
        }

        result[key] = value;
    }

    return result;
};
