# parse-json [![Build Status](https://travis-ci.org/sindresorhus/parse-json.svg?branch=master)](https://travis-ci.org/sindresorhus/parse-json)

> Parse JSON with more helpful errors


## Install

```
$ npm install parse-json
```


## Usage

```js
const parseJson = require('parse-json');
<<<<<<< HEAD

=======
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
const json = '{\n\t"foo": true,\n}';


JSON.parse(json);
/*
undefined:3
}
^
SyntaxError: Unexpected token }
*/


parseJson(json);
/*
<<<<<<< HEAD
JSONError: Unexpected token } in JSON at position 16 while parsing near '{      "foo": true,}'

  1 | {
  2 |   "foo": true,
> 3 | }
    | ^
=======
JSONError: Trailing comma in object at 3:1
}
^
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
*/


parseJson(json, 'foo.json');
/*
<<<<<<< HEAD
JSONError: Unexpected token } in JSON at position 16 while parsing near '{      "foo": true,}' in foo.json

  1 | {
  2 |   "foo": true,
> 3 | }
    | ^
=======
JSONError: Trailing comma in object in foo.json:3:1
}
^
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
*/


// You can also add the filename at a later point
try {
	parseJson(json);
<<<<<<< HEAD
} catch (error) {
	error.fileName = 'foo.json';
	throw error;
}
/*
JSONError: Unexpected token } in JSON at position 16 while parsing near '{      "foo": true,}' in foo.json

  1 | {
  2 |   "foo": true,
> 3 | }
    | ^
=======
} catch (err) {
	err.fileName = 'foo.json';
	throw err;
}
/*
JSONError: Trailing comma in object in foo.json:3:1
}
^
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
*/
```

## API

<<<<<<< HEAD
### parseJson(string, reviver?, filename?)

#### string
=======
### parseJson(input, [reviver], [filename])

#### input
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361

Type: `string`

#### reviver

Type: `Function`

Prescribes how the value originally produced by parsing is transformed, before being returned. See [`JSON.parse` docs](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter
) for more.

#### filename

Type: `string`

Filename displayed in the error message.


<<<<<<< HEAD
---

<div align="center">
	<b>
		<a href="https://tidelift.com/subscription/pkg/npm-parse-json?utm_source=npm-parse-json&utm_medium=referral&utm_campaign=readme">Get professional support for this package with a Tidelift subscription</a>
	</b>
	<br>
	<sub>
		Tidelift helps make open source sustainable for maintainers while giving companies<br>assurances about security, maintenance, and licensing for their dependencies.
	</sub>
</div>
=======
## License

MIT Â© [Sindre Sorhus](https://sindresorhus.com)
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
