<<<<<<< HEAD
var TYPE = require('../../tokenizer').TYPE;

var SEMICOLON = TYPE.Semicolon;
var LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;
=======
var List = require('../../utils/list');
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361

module.exports = {
    name: 'AtrulePrelude',
    structure: {
        children: [[]]
    },
    parse: function(name) {
        var children = null;

        if (name !== null) {
            name = name.toLowerCase();
        }

<<<<<<< HEAD
        this.scanner.skipSC();

        if (this.atrule.hasOwnProperty(name) &&
            typeof this.atrule[name].prelude === 'function') {
            // custom consumer
            children = this.atrule[name].prelude.call(this);
        } else {
            // default consumer
            children = this.readSequence(this.scope.AtrulePrelude);
        }

        this.scanner.skipSC();

        if (this.scanner.eof !== true &&
            this.scanner.tokenType !== LEFTCURLYBRACKET &&
            this.scanner.tokenType !== SEMICOLON) {
            this.error('Semicolon or block is expected');
        }

        if (children === null) {
            children = this.createList();
=======
        if (this.atrule.hasOwnProperty(name)) {
            // custom consumer
            if (typeof this.atrule[name].prelude === 'function') {
                children = this.atrule[name].prelude.call(this);
            }
        } else {
            // default consumer
            this.scanner.skipSC();
            children = this.readSequence(this.scope.AtrulePrelude);
        }

        if (children === null) {
            children = new List();
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
        }

        return {
            type: 'AtrulePrelude',
            loc: this.getLocationFromList(children),
            children: children
        };
    },
<<<<<<< HEAD
    generate: function(node) {
        this.children(node);
=======
    generate: function(processChunk, node) {
        this.each(processChunk, node);
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361
    },
    walkContext: 'atrulePrelude'
};
