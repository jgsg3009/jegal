<html>

</html>

<script>
    const patternsForpng = [
        /click\([^0-9]*(\d+.*png.*")/gm,
        /exists\([^0-9]*(\d+.*png.*")/gm,
        /find\([^0-9]*(\d+.*png.*")/gm,
        /type\([^0-9]*(\d+.*png.*")/gm,
        /hover\([^0-9]*(\d+.*png.*")/gm,
        /wait\([^0-9]*(\d+.*png.*")/gm,
        /waitVanish\([^0-9]*(\d+.*png.*")/gm,
        /onAppear\([^0-9]*(\d+.*png.*")/gm,
        /onVanish\([^0-9]*(\d+.*png.*")/gm,
        /findAll\([^0-9]*(\d+.*png.*")/gm,
        /findBest\([^0-9]*(\d+.*png.*")/gm,
        /findBestList\([^0-9]*(\d+.*png.*")/gm,
        /findAny\([^0-9]*(\d+.*png.*")/gm,
        /findAnyList\([^0-9]*(\d+.*png.*")/gm,
        /doubleClick\([^0-9]*(\d+.*png.*")/gm,
        /rightClick\([^0-9]*(\d+.*png.*")/gm,
        /dragDrop\([^0-9]*(\d+.*png.*")/gm,
        /drag\([^0-9]*(\d+.*png.*")/gm,
        /dropAt\([^0-9]*(\d+.*png.*")/gm,
        /paste\([^0-9]*(\d+.*png.*")/gm,
    ];
    const parameterPngParsing = function(codeLine) {

        var result;
        for (var index in patternsForpng) {
            console.log(patternsForpng[index])
            result = patternsForpng[index].exec(codeLine);
            console.log(result)
            if (result) {
                result = result[1];
                console.log(result)
                var pattern = '(\\d+\.png)|.'
                result = result.replace(new RegExp(pattern, 'gi'), function(c) {
                    console.log(c.slice(-4))
                    return c.slice(-4) == '.png' ? c + ',' : '';
                    //return c === pattern ? c : '*';
                });
                result = result.split(',').slice(0, -1);
                break;
            } else {
                continue;
            }
        }
        return result;
    }

    console.log(parameterPngParsing(
            "click([\"Pattern(\"123.png\").targetOffset(21,1).similar(0.77)\", \"Pattern(\"152.png\").targetOffset(21,1).similar(0.77)\"])"
        ))
        // console.log(parameterPngParsing(
        //     "click(  \"1.png\" )"))
</script>