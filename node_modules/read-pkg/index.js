'use strict';
<<<<<<< HEAD
const {promisify} = require('util');
const fs = require('fs');
const path = require('path');
const parseJson = require('parse-json');

const readFileAsync = promisify(fs.readFile);

module.exports = async options => {
	options = {
		cwd: process.cwd(),
		normalize: true,
		...options
	};

	const filePath = path.resolve(options.cwd, 'package.json');
	const json = parseJson(await readFileAsync(filePath, 'utf8'));

	if (options.normalize) {
		require('normalize-package-data')(json);
	}

	return json;
};

module.exports.sync = options => {
	options = {
		cwd: process.cwd(),
		normalize: true,
		...options
	};
=======
const fs = require('fs');
const path = require('path');
const parseJson = require('parse-json');
const pify = require('pify');

const readFileAsync = pify(fs.readFile);

module.exports = options => {
	options = Object.assign({
		cwd: process.cwd(),
		normalize: true
	}, options);

	const filePath = path.resolve(options.cwd, 'package.json');

	return readFileAsync(filePath, 'utf8').then(file => {
		const json = parseJson(file);

		if (options.normalize) {
			require('normalize-package-data')(json);
		}

		return json;
	});
};

module.exports.sync = options => {
	options = Object.assign({
		cwd: process.cwd(),
		normalize: true
	}, options);
>>>>>>> 99ef3b4711c8dcd2f717e43dd012712d1f333361

	const filePath = path.resolve(options.cwd, 'package.json');
	const json = parseJson(fs.readFileSync(filePath, 'utf8'));

	if (options.normalize) {
		require('normalize-package-data')(json);
	}

	return json;
};
